#!/usr/bin/python3

'''
mmm.

Usage:
  mmm [--random]

Options:
  --random  Randomize order.
'''

__version__ = '0.0'

import os
import subprocess
import time
import random
import docopt


def main():
	args = docopt.docopt(__doc__, version=__version__)

	fns = sorted(os.listdir('.'))

	if args['--random']:
		random.shuffle(fns)

	while 1:
		for fn in fns:
			if fn.lower().endswith('.mp3'):
				#cmd = 'mplayer "./%s"' % fn
				cmd = 'omxplayer -o hdmi "./%s"' % fn
			else:
				cmd = 'omxplayer -b -o hdmi "./%s"' % fn

			print('>>> %s' % cmd)
			subprocess.call(cmd, shell=True)

		time.sleep(1)


if __name__ == '__main__':
	main()
